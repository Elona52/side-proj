spring.application.name=PublicApiProj
server.port=8000

spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://localhost:3306/product
spring.datasource.username=root
spring.datasource.password=1234

spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:db/01_member.sql,classpath:db/02_auction.sql,classpath:db/03_board.sql,classpath:db/04_favorite.sql,classpath:db/05_payment.sql,classpath:db/06_kamco_item.sql
spring.sql.init.continue-on-error=true

# 개발 환경: 프로파일 미설정 또는 spring.profiles.active=dev
# 운영 환경: spring.profiles.active=prod
# 운영 환경에서는 반드시 아래 주석을 해제하고 prod로 설정
# spring.profiles.active=prod

# HikariCP Connection Pool 설정
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.validation-timeout=3000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000

# MyBatis 설정
# Mapper XML 경로
mybatis.mapper-locations=classpath:mapper/*.xml
# 도메인 패키지
mybatis.type-aliases-package=com.api.domain
# underscore_to_camel_case 매핑
mybatis.configuration.map-underscore-to-camel-case=true
# SQL 로그 출력
mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl

# 로깅 설정 - 모든 CRUD와 API 호출 로그
logging.level.com.api.mapper=DEBUG
logging.level.com.api.controller=INFO
logging.level.com.api.service=INFO
logging.level.org.springframework.web=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Thymeleaf 설정 (우선 사용)
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.cache=false
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.check-template-location=true

# 파일 업로드 설정
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.location=upload

# 이메일 설정 (Gmail 예시 - 실제 사용시 자신의 이메일과 앱 비밀번호로 변경)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000


# 스케줄러 설정
spring.task.scheduling.pool.size=5

# HTTP 타임아웃 설정
spring.mvc.async.request-timeout=30000

# RestTemplate 타임아웃 설정
http.client.connection-timeout=5000
http.client.read-timeout=10000

# 캐시 설정 (Simple in-memory cache)
spring.cache.type=simple
spring.cache.cache-names=apiItems,onbidItems

# 아임포트 설정 (실제 사용시 본인 KEY로 변경)
# 테스트 계정: https://admin.iamport.kr 에서 가입 후 발급
iamport.imp.code=imp00000000
iamport.api.key=test_api_key
iamport.api.secret=test_api_secret
iamport.callback.url=http://localhost:5555/payment/callback


onbid.api.base-url=https://www.onbid.co.kr/op/nsclbi

# 캠코 API 설정 
kamco.api.url=${onbid.api.base-url}/getUnifyUsageCltr

# Swagger/OpenAPI 설정
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.packages-to-scan=com.api.controller
springdoc.default-consumes-media-type=application/json
springdoc.default-produces-media-type=application/json
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.operations-sorter=alpha

# DevTools 설정
spring.devtools.livereload.enabled=false
spring.devtools.restart.enabled=false

