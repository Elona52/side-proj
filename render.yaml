services:
  # Spring Boot 웹 서비스 (Dockerfile 사용)
  - type: web
    name: public-api-proj
    dockerfilePath: ./Dockerfile  # Dockerfile 사용 명시
    dockerContext: .  # Docker 빌드 컨텍스트
    region: singapore  # 또는 원하는 리전 (oregon, frankfurt 등)
    plan: starter  # 또는 free (제한 있음)
    healthCheckPath: /
    envVars:
      # Spring Profile 설정
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      # 주의: PORT 환경 변수는 렌더가 자동으로 제공하므로 별도 설정 불필요
      # 데이터베이스 설정 (렌더 대시보드에서 수동 설정 필요)
      - key: SPRING_DATASOURCE_DRIVER
        value: org.postgresql.Driver
        sync: false
      - key: SPRING_DATASOURCE_URL
        sync: false
      - key: SPRING_DATASOURCE_USERNAME
        sync: false
      - key: SPRING_DATASOURCE_PASSWORD
        sync: false
      # 이메일 설정 (선택)
      - key: SPRING_MAIL_USERNAME
        sync: false
      - key: SPRING_MAIL_PASSWORD
        sync: false
      # 아임포트 설정 (선택)
      - key: IAMPORT_IMP_CODE
        sync: false
      - key: IAMPORT_API_KEY
        sync: false
      - key: IAMPORT_API_SECRET
        sync: false
      - key: IAMPORT_CALLBACK_URL
        sync: false
